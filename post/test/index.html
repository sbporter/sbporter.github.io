<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Seth&#39;s Blog</title>
        <meta name="author">
        <meta name="description" content="The awesome blog of Seth Porter.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.17" />
          <link href="http://sbporter.com/post/index.xml" rel="alternate" type="application/rss+xml" title="Seth&#39;s Blog" />
          <link href="http://sbporter.com/post/index.xml" rel="feed" type="application/rss+xml" title="Seth&#39;s Blog" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://sbporter.com/css/styles.css">
        <link rel="icon" href="http://sbporter.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://sbporter.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://sbporter.com/css/highlightjs/monokai.css">
        <script src="http://sbporter.com/js/vendor/modernizr-2.8.0.min.js"></script>
        <style>
        .site-header h2 .logo {
        background: url(http://sbporter.com/img/desk.jpg) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://sbporter.com/img/desk.jpg);
        }}
       .site-header {
         background: #2a373d url(http://sbporter.com/img/desk.jpg) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>Seth&#39;s Blog</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://sbporter.com/" title="">&laquo; </a>
            
<h1><a href="http://sbporter.com/post/test/" title="First Post">First Post</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2016.11.02">2016.11.02</time>

</span>
</footer>

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<pre>
<code class="swift">
//
//  StatusOverlayButton.swift
//  Teal Command
//
//  Created by Seth Porter on 4/27/16.
//  Copyright Â© 2016 Pixio. All rights reserved.
//

import UIKit
import VortexSwift

class StatusOverlayButton: UIButton {
    var droneImageView = UIImageView()
    private var disconnectedSlash = SlashView()
    
    private var connectedLock: NSLock = NSLock(name: "StatusOverlayButton.connectedLock")
    private var uuid: UUID = UUID()
    /// Property that sets the button state between connected and disconnected states
    var connected: Bool = false {
        didSet {
            if (connected) {
                disconnectedSlash.alpha = 0.0
            } else {
                disconnectedSlash.alpha = 1.0
            }
        }
    }
    
    override var isHighlighted: Bool {
        didSet {
            if (isHighlighted) {
                droneImageView.tintColor = Colors.glowTeal
            } else {
                droneImageView.tintColor = Colors.solidBlue
            }
        }
    }
        
    override init(frame: CGRect) {
        super.init(frame: frame)
        
        var homeButtonImage: UIImage = UIImage(named: "droneIcon")!
        homeButtonImage = homeButtonImage.withRenderingMode(UIImageRenderingMode.alwaysTemplate)
        
//        self.setBackgroundColor(Colors.glowTeal, forState: UIControlState.highlighted)
        
        droneImageView = UIImageView(image: homeButtonImage)
        droneImageView.contentMode = .scaleAspectFit
        droneImageView.translatesAutoresizingMaskIntoConstraints = false
        droneImageView.tintColor = Colors.solidBlue
        self.addSubview(droneImageView)
        
        disconnectedSlash.translatesAutoresizingMaskIntoConstraints = false
        disconnectedSlash.backgroundColor = UIColor.clear
        disconnectedSlash.isUserInteractionEnabled = false
        self.addSubview(disconnectedSlash)
        
        addViewContraints()
        registerForStatusCallbacks()
    }
    
    deinit {
        unregisterForStatusCallbacks()
    }
    
    func addViewContraints() {
        droneImageView.autoPinEdgesToSuperviewEdges()
        disconnectedSlash.autoPinEdgesToSuperviewEdges()
    }

    private func registerForStatusCallbacks() {
        MessageConnectionManager.instance.setStatusCallback({ [weak self](connectionStatus: MessageConnection.MessageConnectionStatus) in
            guard let _self = self else {
                return
            }
            _self.connectedLock.execute {
                _self.connected = (connectionStatus == .connected)
            }
        }, ownerUUID: uuid)
    }

    private func unregisterForStatusCallbacks() {
        MessageConnectionManager.instance.removeStatusCallback(ownerUUID: uuid)
    }
    
//    func setBackgroundColor(_ color: UIColor, forState: UIControlState) {
//        UIGraphicsBeginImageContext(CGSize(width: 1, height: 1))
//        UIGraphicsGetCurrentContext()?.setFillColor(color.cgColor)
//        UIGraphicsGetCurrentContext()?.fill(CGRect(x: 0, y: 0, width: 1, height: 1))
//        let colorImage = UIGraphicsGetImageFromCurrentImageContext()
//        UIGraphicsEndImageContext()
//        
//        self.setBackgroundImage(colorImage, for: forState)
//    }
    
    
    
    required init?(coder aDecoder: NSCoder) {
        super.init(coder: aDecoder)
    }
    
    
    private class SlashView: UIView {
        
        override func draw(_ rect: CGRect) {
            super.draw(rect)
            
            let slashPath = UIBezierPath()
            slashPath.move(to: CGPoint(x: self.bounds.width, y: 0))
            slashPath.addLine(to: CGPoint(x: 0, y: self.bounds.height))
            UIColor.red.setStroke()
            slashPath.lineWidth = 2.0
            slashPath.stroke()
        }
    }
}

</code>
</pre>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fsbporter.com%2fpost%2ftest%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=First%20Post&amp;url=http%3a%2f%2fsbporter.com%2fpost%2ftest%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fsbporter.com%2fpost%2ftest%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fsbporter.com%2fpost%2ftest%2f&title=First%20Post" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3></h3>
            
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="http://sbporter.com/img/profile-image.png" alt="Seth Porter" />
  <p class="name"> 
  <strong>Seth Porter</strong></p>
  <p class="address"></p>
  <p class="link"></p>
  <ul class="social">
    












<li><a href="//github.com/sbporter" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://sbporter.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://sbporter.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2016 &middot; Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

<script src="http://sbporter.com/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/sbporter.com\/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://sbporter.com/js/plugins.js"></script>

</body>
</html>

